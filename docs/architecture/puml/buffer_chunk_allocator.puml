@startuml

[*] --> ready
ready --> configuring : emel::buffer::chunk_allocator::event::configure
configuring --> boost::sml::front::internal : on_entry
configuring --> configuring : emel::buffer::chunk_allocator::event::validate_configure
configuring --> applying_configure : emel::buffer::chunk_allocator::events::validate_configure_done
configuring --> failed : emel::buffer::chunk_allocator::events::validate_configure_error
applying_configure --> boost::sml::front::internal : on_entry
applying_configure --> applying_configure : emel::buffer::chunk_allocator::event::apply_configure
applying_configure --> configure_done : emel::buffer::chunk_allocator::events::apply_configure_done
applying_configure --> failed : emel::buffer::chunk_allocator::events::apply_configure_error
configure_done --> boost::sml::front::internal : on_entry
configure_done --> ready : emel::buffer::chunk_allocator::events::configure_done
ready --> validating_allocate : emel::buffer::chunk_allocator::event::allocate
validating_allocate --> boost::sml::front::internal : on_entry
validating_allocate --> validating_allocate : emel::buffer::chunk_allocator::event::validate_allocate
validating_allocate --> selecting_block : emel::buffer::chunk_allocator::events::validate_allocate_done
validating_allocate --> failed : emel::buffer::chunk_allocator::events::validate_allocate_error
selecting_block --> boost::sml::front::internal : on_entry
selecting_block --> selecting_block : emel::buffer::chunk_allocator::event::select_block
selecting_block --> ensuring_chunk : emel::buffer::chunk_allocator::events::select_block_done
selecting_block --> failed : emel::buffer::chunk_allocator::events::select_block_error
ensuring_chunk --> boost::sml::front::internal : on_entry
ensuring_chunk --> ensuring_chunk : emel::buffer::chunk_allocator::event::ensure_chunk
ensuring_chunk --> committing_allocate : emel::buffer::chunk_allocator::events::ensure_chunk_done
ensuring_chunk --> failed : emel::buffer::chunk_allocator::events::ensure_chunk_error
committing_allocate --> boost::sml::front::internal : on_entry
committing_allocate --> committing_allocate : emel::buffer::chunk_allocator::event::commit_allocate
committing_allocate --> allocate_done : emel::buffer::chunk_allocator::events::commit_allocate_done
committing_allocate --> failed : emel::buffer::chunk_allocator::events::commit_allocate_error
allocate_done --> boost::sml::front::internal : on_entry
allocate_done --> ready : emel::buffer::chunk_allocator::events::allocate_done
ready --> validating_release : emel::buffer::chunk_allocator::event::release
validating_release --> boost::sml::front::internal : on_entry
validating_release --> validating_release : emel::buffer::chunk_allocator::event::validate_release
validating_release --> merging_release : emel::buffer::chunk_allocator::events::validate_release_done
validating_release --> failed : emel::buffer::chunk_allocator::events::validate_release_error
merging_release --> boost::sml::front::internal : on_entry
merging_release --> merging_release : emel::buffer::chunk_allocator::event::merge_release
merging_release --> release_done : emel::buffer::chunk_allocator::events::merge_release_done
merging_release --> failed : emel::buffer::chunk_allocator::events::merge_release_error
release_done --> boost::sml::front::internal : on_entry
release_done --> ready : emel::buffer::chunk_allocator::events::release_done
ready --> resetting : emel::buffer::chunk_allocator::event::reset
configuring --> resetting : emel::buffer::chunk_allocator::event::reset
applying_configure --> resetting : emel::buffer::chunk_allocator::event::reset
configure_done --> resetting : emel::buffer::chunk_allocator::event::reset
validating_allocate --> resetting : emel::buffer::chunk_allocator::event::reset
selecting_block --> resetting : emel::buffer::chunk_allocator::event::reset
ensuring_chunk --> resetting : emel::buffer::chunk_allocator::event::reset
committing_allocate --> resetting : emel::buffer::chunk_allocator::event::reset
allocate_done --> resetting : emel::buffer::chunk_allocator::event::reset
validating_release --> resetting : emel::buffer::chunk_allocator::event::reset
merging_release --> resetting : emel::buffer::chunk_allocator::event::reset
release_done --> resetting : emel::buffer::chunk_allocator::event::reset
failed --> resetting : emel::buffer::chunk_allocator::event::reset
resetting --> resetting : emel::buffer::chunk_allocator::event::apply_reset
resetting --> reset_done : emel::buffer::chunk_allocator::events::apply_reset_done
resetting --> failed : emel::buffer::chunk_allocator::events::apply_reset_error
resetting --> boost::sml::front::internal : on_entry
reset_done --> boost::sml::front::internal : on_entry
reset_done --> ready : emel::buffer::chunk_allocator::events::reset_done
failed --> boost::sml::front::internal : on_entry
failed --> ready : emel::buffer::chunk_allocator::events::configure_error
failed --> ready : emel::buffer::chunk_allocator::events::allocate_error
failed --> ready : emel::buffer::chunk_allocator::events::release_error
failed --> ready : emel::buffer::chunk_allocator::events::reset_error
ready --> failed : boost::sml::back::_
configuring --> failed : boost::sml::back::_
applying_configure --> failed : boost::sml::back::_
configure_done --> failed : boost::sml::back::_
validating_allocate --> failed : boost::sml::back::_
selecting_block --> failed : boost::sml::back::_
ensuring_chunk --> failed : boost::sml::back::_
committing_allocate --> failed : boost::sml::back::_
allocate_done --> failed : boost::sml::back::_
validating_release --> failed : boost::sml::back::_
merging_release --> failed : boost::sml::back::_
release_done --> failed : boost::sml::back::_
resetting --> failed : boost::sml::back::_
reset_done --> failed : boost::sml::back::_
failed --> failed : boost::sml::back::_

@enduml
