@startuml

[*] --> emel::kv::cache::initialized
emel::kv::cache::initialized --> emel::kv::cache::preparing : emel::kv::cache::event::prepare
emel::kv::cache::prepared --> emel::kv::cache::preparing : emel::kv::cache::event::prepare
emel::kv::cache::preparing --> boost::sml::front::internal : on_entry
emel::kv::cache::preparing --> emel::kv::cache::preparing : emel::kv::cache::event::validate
emel::kv::cache::preparing --> emel::kv::cache::preparing : emel::kv::cache::events::validate_done
emel::kv::cache::preparing --> emel::kv::cache::errored : emel::kv::cache::events::validate_error
emel::kv::cache::preparing --> boost::sml::front::internal : on_entry
emel::kv::cache::preparing --> emel::kv::cache::preparing : emel::kv::cache::event::prepare_slots
emel::kv::cache::preparing --> emel::kv::cache::publishing : emel::kv::cache::events::prepare_slots_done
emel::kv::cache::preparing --> emel::kv::cache::errored : emel::kv::cache::events::prepare_slots_error
emel::kv::cache::prepared --> emel::kv::cache::applying_ubatch : emel::kv::cache::event::apply_ubatch
emel::kv::cache::applying_ubatch --> boost::sml::front::internal : on_entry
emel::kv::cache::applying_ubatch --> emel::kv::cache::applying_ubatch : emel::kv::cache::event::validate
emel::kv::cache::applying_ubatch --> emel::kv::cache::applying_ubatch : emel::kv::cache::events::validate_done
emel::kv::cache::applying_ubatch --> emel::kv::cache::errored : emel::kv::cache::events::validate_error
emel::kv::cache::applying_ubatch --> boost::sml::front::internal : on_entry
emel::kv::cache::applying_ubatch --> emel::kv::cache::applying_ubatch : emel::kv::cache::event::apply_step
emel::kv::cache::applying_ubatch --> emel::kv::cache::publishing : emel::kv::cache::events::apply_done
emel::kv::cache::applying_ubatch --> emel::kv::cache::errored : emel::kv::cache::events::apply_error
emel::kv::cache::prepared --> emel::kv::cache::rolling_back : emel::kv::cache::event::rollback
emel::kv::cache::errored --> emel::kv::cache::rolling_back : emel::kv::cache::event::rollback
emel::kv::cache::rolling_back --> boost::sml::front::internal : on_entry
emel::kv::cache::rolling_back --> emel::kv::cache::rolling_back : emel::kv::cache::event::validate
emel::kv::cache::rolling_back --> emel::kv::cache::rolling_back : emel::kv::cache::events::validate_done
emel::kv::cache::rolling_back --> emel::kv::cache::errored : emel::kv::cache::events::validate_error
emel::kv::cache::rolling_back --> boost::sml::front::internal : on_entry
emel::kv::cache::rolling_back --> emel::kv::cache::rolling_back : emel::kv::cache::event::rollback_step
emel::kv::cache::rolling_back --> emel::kv::cache::publishing : emel::kv::cache::events::rollback_done
emel::kv::cache::rolling_back --> emel::kv::cache::errored : emel::kv::cache::events::rollback_error
emel::kv::cache::publishing --> boost::sml::front::internal : on_entry
emel::kv::cache::publishing --> boost::sml::front::internal : on_entry
emel::kv::cache::publishing --> boost::sml::front::internal : on_entry
emel::kv::cache::publishing --> emel::kv::cache::publishing : emel::kv::cache::event::publish
emel::kv::cache::publishing --> emel::kv::cache::done : emel::kv::cache::events::publish_done
emel::kv::cache::publishing --> emel::kv::cache::errored : emel::kv::cache::events::publish_error
emel::kv::cache::done --> boost::sml::front::internal : on_entry
emel::kv::cache::done --> emel::kv::cache::prepared : emel::kv::cache::events::kv_done
emel::kv::cache::done --> emel::kv::cache::prepared : emel::kv::cache::events::kv_error
emel::kv::cache::errored --> boost::sml::front::internal : on_entry
emel::kv::cache::errored --> emel::kv::cache::prepared : emel::kv::cache::events::kv_error

@enduml
