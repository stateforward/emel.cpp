stateDiagram-v2
  direction TB
  [*] --> initialized
  initialized --> tokenizing_prompt : generate [always] / none
  tokenizing_prompt --> prefilling : prompt_tokenized_done [always] / none
  tokenizing_prompt --> errored : prompt_tokenized_error [always] / none
  prefilling --> decoding : prefill_done [always] / none
  prefilling --> errored : prefill_error [always] / none
  decoding --> decoding : decode_step_done [lambda_guards_8_48] / none
  decoding --> done : stop_condition_met [always] / none
  decoding --> errored : decode_step_error [always] / none
